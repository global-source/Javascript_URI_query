var URI={get:function(name,url,default_result){var response;if(void 0===url&&url&&(url=!1),void 0===name&&name&&(name=!1),void 0===default_result&&(default_result=!1),url||(url=window.location.href),!name)return default_result;name=name.replace(/[\[\]]/g,"\\$&");var regex,results=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)").exec(url);return results?results[2]?null===(response=decodeURIComponent(results[2].replace(/\+/g," ")))?default_result:response:"":default_result},getAll:function(byString){var queryDict;return void 0===byString&&(byString=!1),queryDict={},byString?location.search.substr(1).split("&"):(location.search.substr(1).split("&").forEach(function(item){""!==item&&(item=item.split("="),queryDict[item[0]]=item[1])}),queryDict)},clear:function(){var list=this.getAll();for(var i in list)this.remove(i,list[i],!1);this.update()},update:function(){var href=window.location.href;-1!==href.indexOf("?")&&(href=href.slice(0,href.indexOf("?")),window.history.pushState("","Title",href))},remove:function(list,value){var core_list=this.getAll();if("undefined"===core_list&&(core_list=0),0===this.objCount(core_list))return this.update();var isObject=!0,item,item_out,temp_obj={},count;if("object"!=typeof list&&(isObject=!1),!1===isObject&&"string"!=typeof list)return!1;if(this.objCount(core_list)<=0)return!1;var updated_list=core_list;if(value&&!1===isObject)item=this.get(list),-1!==(item+=",").indexOf(",")&&delete(item=item.split(","))[item.indexOf(value)],"string"==typeof item&&(item=[item]),0===(item=item.filter(function(i){return""!==i})).length&&this.remove(list),item_out=item.join(","),temp_obj[list]=item_out,this.add([temp_obj]);else{if(!0===isObject)for(var i=0;i<list.length;i++)delete updated_list[list[i]];else delete updated_list[list];var newQuery="?";for(var i in updated_list)newQuery+=i+"="+updated_list[i]+"&";""===(newQuery=newQuery.slice(0,-1))&&(newQuery="?"),window.history.pushState("","Title",newQuery)}},removeAll:function(reset){var href=window.location.href;-1!==href.indexOf("?")&&(href=href.split("?"),window.history.pushState("","Title",href[0])),!0===reset&&window.location.reload()},addNew:function(key,value){var temp_object,core_list,updated_list=this.getAll();if(""==value||""==key)return!1;updated_list[key]=value;var newQuery="?";for(var i in console.log(updated_list),updated_list)newQuery+=i+"="+updated_list[i]+"&";window.history.pushState("","Title",newQuery.slice(0,-1))},add:function(list,append){var temp_object;if("object"!=typeof list)return!1;var core_list,updated_list=this.getAll(),val,val_result;if(!0===append){for(var i in list)if("object"==typeof list[i])for(var k in list[i]){if(!1!==(val_result=URI.get(k))){if(-1!==(temp_object=val_result.split(",")).indexOf(list[i][k]))continue;val=val_result+",",!1!==val_result&&""!==val_result||(val=""),val+=list[i][k]}else val=list[i][k];updated_list[k]=val}}else for(var i in list)for(var k in list[i])""!==list[i][k]&&(updated_list[k]=list[i][k]);var newQuery="?";for(var i in console.log(updated_list),updated_list)newQuery+=i+"="+updated_list[i]+"&";window.history.pushState("","Title",newQuery.slice(0,-1))},append:function(key,value){var val,val_result;val_result=URI.get(key);var core_list,updated_list=this.getAll();!1!==val_result?(temp_object=val_result.split(","),val=val_result+",",!1!==val_result&&""!==val_result||(val=""),val+=value):val=value,updated_list[key]=val;var newQuery="?";for(var i in console.log(updated_list),updated_list)newQuery+=i+"="+updated_list[i]+"&";window.history.pushState("","Title",newQuery.slice(0,-1))},fixURI:function(){var URI_items=this.getAll();for(var i in this.removeAll(),URI_items)"undefined"!==URI_items[i]&&this.add([{i:URI_items[i]}])},nextPage:function(){var page=this.get("page");page||(page=1),page++,this.replaceParam("page",page)},prevPage:function(){var page=this.get("page");page||(page=1),1!=page&&page--,this.replaceParam("page",page)},isParamExists:function(param){var paramString;return-1!==location.search.substr(1).indexOf(param+"=")},replaceParam:function(param,value){var queryString=location.search.substr(1),total=queryString.match(/[a-z\d]+=[a-zA-Z\d]+/gi),newValue=param+"="+value,oldValue=param+"="+this.get(param);return queryString=this.objCount(total)>0?this.isParamExists(param)?"?"+queryString.replace(oldValue,newValue):"?"+queryString+"&"+newValue:"?"+newValue,window.history.pushState("","Title",queryString),queryString},objCount:function(object){var length=0;for(var key in object)object.hasOwnProperty(key)&&++length;return length}};